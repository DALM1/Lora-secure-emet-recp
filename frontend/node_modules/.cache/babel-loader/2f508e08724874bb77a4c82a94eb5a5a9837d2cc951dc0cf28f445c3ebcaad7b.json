{"ast":null,"code":"var _jsxFileName = \"/Users/dalm1/Downloads/lora-receiver/lora-secure-comm/frontend/src/components/MessagePanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessagePanel = ({\n  messages,\n  isConnected,\n  onSendMessage,\n  onClearHistory,\n  priority,\n  setPriority,\n  filter,\n  setFilter,\n  isSending,\n  isClearing\n}) => {\n  _s();\n  const [newMessage, setNewMessage] = useState('');\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Auto-scroll vers le bas quand de nouveaux messages arrivent\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Auto-resize du textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [newMessage]);\n  const handleSend = async () => {\n    if (!newMessage.trim()) {\n      toast.error('Veuillez saisir un message');\n      return;\n    }\n    if (!isConnected) {\n      toast.error('Système non connecté');\n      return;\n    }\n    setIsSending(true);\n    try {\n      await onSendMessage(newMessage.trim(), priority);\n      setNewMessage('');\n      toast.success('Message envoyé');\n    } catch (error) {\n      toast.error(`Erreur d'envoi ${error.message}`);\n    } finally {\n      setIsSending(false);\n    }\n  };\n  const handleClear = async () => {\n    if (!window.confirm('Êtes-vous sûr de vouloir effacer tout l\\'historique ?')) {\n      return;\n    }\n    setIsClearing(true);\n    try {\n      const success = await onClearHistory();\n      if (success) {\n        toast.success('Historique effacé');\n      }\n    } catch (error) {\n      toast.error(`Erreur: ${error.message}`);\n    } finally {\n      setIsClearing(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  const filteredMessages = messages.filter(msg => {\n    if (filter === 'all') return true;\n    if (filter === 'sent') return msg.direction === 'sent';\n    if (filter === 'received') return msg.direction === 'received';\n    return true;\n  });\n  const formatTimestamp = timestamp => {\n    return new Date(timestamp).toLocaleString('fr-FR', {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      day: '2-digit',\n      month: '2-digit'\n    });\n  };\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'high':\n        return 'text-red-600 bg-red-50';\n      case 'low':\n        return 'text-gray-600 bg-gray-50';\n      default:\n        return 'text-blue-600 bg-blue-50';\n    }\n  };\n  const getPriorityIcon = priority => {\n    switch (priority) {\n      case 'high':\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this);\n      case 'low':\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M19 14l-7 7m0 0l-7-7m7 7V3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel message-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"panel-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"panel-icon\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), \"Messages\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"message-count\",\n            children: filteredMessages.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: filter,\n            onChange: e => setFilter(e.target.value),\n            className: \"form-select message-filter\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"Tous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sent\",\n              children: \"Envoy\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"received\",\n              children: \"Re\\xE7us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClear,\n            disabled: isClearing || messages.length === 0,\n            className: \"btn-icon btn-danger\",\n            title: \"Effacer l'historique\",\n            children: isClearing ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"icon\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-container\",\n      children: [filteredMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"empty-state-icon\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty-state-title\",\n          children: \"Aucun message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty-state-description\",\n          children: !isConnected ? 'Connectez le système pour commencer à échanger des messages' : 'Envoyez votre premier message chiffré'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this) : filteredMessages.map((message, index) => {\n        var _message$metadata;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message-wrapper ${message.direction === 'sent' ? 'message-sent' : 'message-received'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message-bubble ${message.direction === 'sent' ? 'message-bubble-sent' : 'message-bubble-received'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `message-direction ${message.direction === 'sent' ? 'message-direction-sent' : 'message-direction-received'}`,\n                children: message.direction === 'sent' ? 'Envoyé' : 'Reçu'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), ((_message$metadata = message.metadata) === null || _message$metadata === void 0 ? void 0 : _message$metadata.priority) && message.metadata.priority !== 'normal' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `priority-badge ${message.direction === 'sent' ? 'priority-badge-sent' : `priority-badge-${message.metadata.priority}`}`,\n                children: [getPriorityIcon(message.metadata.priority), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"priority-text\",\n                  children: message.metadata.priority\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message-content\",\n              children: message.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `message-timestamp ${message.direction === 'sent' ? 'message-timestamp-sent' : 'message-timestamp-received'}`,\n                children: formatTimestamp(message.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this), message.signal_info && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message-signal ${message.direction === 'sent' ? 'message-signal-sent' : 'message-signal-received'}`,\n                children: [\"RSSI: \", message.signal_info.rssi, \"dBm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-input-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"priority-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"priority-label\",\n              children: \"Priorit\\xE9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: priority,\n              onChange: e => setPriority(e.target.value),\n              className: \"form-select priority-select\",\n              disabled: isSending || !isConnected,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"low\",\n                children: \"Basse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"normal\",\n                children: \"Normale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"high\",\n                children: \"Haute\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: textareaRef,\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: isConnected ? \"Tapez votre message (Entrée pour envoyer, Maj+Entrée pour nouvelle ligne)\" : \"Connectez le système pour envoyer des messages\",\n            className: \"message-textarea\",\n            disabled: isSending || !isConnected,\n            rows: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSend,\n          disabled: !newMessage.trim() || isSending || !isConnected,\n          className: `btn send-btn ${newMessage.trim() && !isSending && isConnected ? 'btn-primary' : 'btn-disabled'}`,\n          children: isSending ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-loading\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner loading-spinner-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"btn-icon\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), !isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-warning connection-warning\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"alert-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"alert-icon\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), \"Connectez les modules LoRa et initialisez le chiffrement pour envoyer des messages.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(MessagePanel, \"BaUfvGzPN12v+3R3yWn3XyYoC6U=\");\n_c = MessagePanel;\nexport default MessagePanel;\nvar _c;\n$RefreshReg$(_c, \"MessagePanel\");","map":{"version":3,"names":["React","useState","useRef","useEffect","toast","jsxDEV","_jsxDEV","MessagePanel","messages","isConnected","onSendMessage","onClearHistory","priority","setPriority","filter","setFilter","isSending","isClearing","_s","newMessage","setNewMessage","messagesEndRef","textareaRef","_messagesEndRef$curre","current","scrollIntoView","behavior","style","height","scrollHeight","handleSend","trim","error","setIsSending","success","message","handleClear","window","confirm","setIsClearing","handleKeyPress","e","key","shiftKey","preventDefault","filteredMessages","msg","direction","formatTimestamp","timestamp","Date","toLocaleString","hour","minute","second","day","month","getPriorityColor","getPriorityIcon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","length","value","onChange","target","onClick","disabled","title","map","index","_message$metadata","metadata","signal_info","rssi","ref","onKeyPress","placeholder","rows","_c","$RefreshReg$"],"sources":["/Users/dalm1/Downloads/lora-receiver/lora-secure-comm/frontend/src/components/MessagePanel.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport toast from 'react-hot-toast';\n\nconst MessagePanel = ({ \n  messages, \n  isConnected, \n  onSendMessage, \n  onClearHistory, \n  priority, \n  setPriority, \n  filter, \n  setFilter,\n  isSending,\n  isClearing \n}) => {\n  const [newMessage, setNewMessage] = useState('');\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Auto-scroll vers le bas quand de nouveaux messages arrivent\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  // Auto-resize du textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [newMessage]);\n\n  const handleSend = async () => {\n    if (!newMessage.trim()) {\n      toast.error('Veuillez saisir un message');\n      return;\n    }\n\n    if (!isConnected) {\n      toast.error('Système non connecté');\n      return;\n    }\n\n    setIsSending(true);\n    try {\n      await onSendMessage(newMessage.trim(), priority);\n      setNewMessage('');\n      toast.success('Message envoyé');\n    } catch (error) {\n      toast.error(`Erreur d'envoi ${error.message}`);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  const handleClear = async () => {\n    if (!window.confirm('Êtes-vous sûr de vouloir effacer tout l\\'historique ?')) {\n      return;\n    }\n\n    setIsClearing(true);\n    try {\n      const success = await onClearHistory();\n      if (success) {\n        toast.success('Historique effacé');\n      }\n    } catch (error) {\n      toast.error(`Erreur: ${error.message}`);\n    } finally {\n      setIsClearing(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const filteredMessages = messages.filter(msg => {\n    if (filter === 'all') return true;\n    if (filter === 'sent') return msg.direction === 'sent';\n    if (filter === 'received') return msg.direction === 'received';\n    return true;\n  });\n\n  const formatTimestamp = (timestamp) => {\n    return new Date(timestamp).toLocaleString('fr-FR', {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      day: '2-digit',\n      month: '2-digit'\n    });\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'high': return 'text-red-600 bg-red-50';\n      case 'low': return 'text-gray-600 bg-gray-50';\n      default: return 'text-blue-600 bg-blue-50';\n    }\n  };\n\n  const getPriorityIcon = (priority) => {\n    switch (priority) {\n      case 'high':\n        return (\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n          </svg>\n        );\n      case 'low':\n        return (\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 14l-7 7m0 0l-7-7m7 7V3\" />\n          </svg>\n        );\n      default:\n        return (\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n    }\n  };\n\n  return (\n    <div className=\"panel message-panel\">\n      {/* En-tête */}\n      <div className=\"panel-header\">\n        <div className=\"panel-header-content\">\n          <h2 className=\"panel-title\">\n            <svg className=\"panel-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n            </svg>\n            Messages\n            <span className=\"message-count\">\n              {filteredMessages.length}\n            </span>\n          </h2>\n\n          <div className=\"panel-controls\">\n            {/* Filtre */}\n            <select\n              value={filter}\n              onChange={(e) => setFilter(e.target.value)}\n              className=\"form-select message-filter\"\n            >\n              <option value=\"all\">Tous</option>\n              <option value=\"sent\">Envoyés</option>\n              <option value=\"received\">Reçus</option>\n            </select>\n\n            {/* Bouton d'effacement */}\n            <button\n              onClick={handleClear}\n              disabled={isClearing || messages.length === 0}\n              className=\"btn-icon btn-danger\"\n              title=\"Effacer l'historique\"\n            >\n              {isClearing ? (\n                <div className=\"loading-spinner\"></div>\n              ) : (\n                <svg className=\"icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Zone de messages */}\n      <div className=\"messages-container\">\n        {filteredMessages.length === 0 ? (\n          <div className=\"empty-state\">\n            <svg className=\"empty-state-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n            </svg>\n            <p className=\"empty-state-title\">Aucun message</p>\n            <p className=\"empty-state-description\">\n              {!isConnected\n                ? 'Connectez le système pour commencer à échanger des messages'\n                : 'Envoyez votre premier message chiffré'\n              }\n            </p>\n          </div>\n        ) : (\n          filteredMessages.map((message, index) => (\n            <div\n              key={index}\n              className={`message-wrapper ${message.direction === 'sent' ? 'message-sent' : 'message-received'}`}\n            >\n              <div className={`message-bubble ${\n                message.direction === 'sent'\n                  ? 'message-bubble-sent'\n                  : 'message-bubble-received'\n              }`}>\n                <div className=\"message-header\">\n                  <span className={`message-direction ${\n                    message.direction === 'sent' ? 'message-direction-sent' : 'message-direction-received'\n                  }`}>\n                    {message.direction === 'sent' ? 'Envoyé' : 'Reçu'}\n                  </span>\n\n                  {message.metadata?.priority && message.metadata.priority !== 'normal' && (\n                    <div className={`priority-badge ${\n                      message.direction === 'sent' ? 'priority-badge-sent' : `priority-badge-${message.metadata.priority}`\n                    }`}>\n                      {getPriorityIcon(message.metadata.priority)}\n                      <span className=\"priority-text\">{message.metadata.priority}</span>\n                    </div>\n                  )}\n                </div>\n\n                <p className=\"message-content\">\n                  {message.message}\n                </p>\n\n                <div className=\"message-footer\">\n                  <span className={`message-timestamp ${\n                    message.direction === 'sent' ? 'message-timestamp-sent' : 'message-timestamp-received'\n                  }`}>\n                    {formatTimestamp(message.timestamp)}\n                  </span>\n\n                  {message.signal_info && (\n                    <div className={`message-signal ${\n                      message.direction === 'sent' ? 'message-signal-sent' : 'message-signal-received'\n                    }`}>\n                      RSSI: {message.signal_info.rssi}dBm\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Zone de saisie */}\n      <div className=\"message-input-section\">\n        <div className=\"message-input-container\">\n          <div className=\"message-input-wrapper\">\n            <div className=\"priority-selector\">\n              <label className=\"priority-label\">Priorité:</label>\n              <select\n                value={priority}\n                onChange={(e) => setPriority(e.target.value)}\n                className=\"form-select priority-select\"\n                disabled={isSending || !isConnected}\n              >\n                <option value=\"low\">Basse</option>\n                <option value=\"normal\">Normale</option>\n                <option value=\"high\">Haute</option>\n              </select>\n            </div>\n\n            <textarea\n              ref={textareaRef}\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder={isConnected ? \"Tapez votre message (Entrée pour envoyer, Maj+Entrée pour nouvelle ligne)\" : \"Connectez le système pour envoyer des messages\"}\n              className=\"message-textarea\"\n              disabled={isSending || !isConnected}\n              rows={1}\n            />\n          </div>\n\n          <button\n            onClick={handleSend}\n            disabled={!newMessage.trim() || isSending || !isConnected}\n            className={`btn send-btn ${\n              newMessage.trim() && !isSending && isConnected\n                ? 'btn-primary'\n                : 'btn-disabled'\n            }`}\n          >\n            {isSending ? (\n              <div className=\"btn-loading\">\n                <div className=\"loading-spinner loading-spinner-white\"></div>\n              </div>\n            ) : (\n              <svg className=\"btn-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n              </svg>\n            )}\n          </button>\n        </div>\n\n        {!isConnected && (\n          <div className=\"alert alert-warning connection-warning\">\n            <div className=\"alert-content\">\n              <svg className=\"alert-icon\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n              </svg>\n              Connectez les modules LoRa et initialisez le chiffrement pour envoyer des messages.\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MessagePanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}