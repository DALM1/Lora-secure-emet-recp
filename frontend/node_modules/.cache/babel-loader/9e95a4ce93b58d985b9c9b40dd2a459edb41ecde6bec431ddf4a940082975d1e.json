{"ast":null,"code":"var _jsxFileName = \"/Users/dalm1/Downloads/lora-receiver/lora-secure-comm/frontend/src/components/MessagePanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessagePanel = ({\n  messages,\n  isConnected,\n  onSendMessage,\n  onClearHistory\n}) => {\n  _s();\n  const [newMessage, setNewMessage] = useState('');\n  const [priority, setPriority] = useState('normal');\n  const [isSending, setIsSending] = useState(false);\n  const [isClearing, setIsClearing] = useState(false);\n  const [filter, setFilter] = useState('all'); // all, sent, received\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Auto-scroll vers le bas quand de nouveaux messages arrivent\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Auto-resize du textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [newMessage]);\n  const handleSend = async () => {\n    if (!newMessage.trim()) {\n      toast.error('Veuillez saisir un message');\n      return;\n    }\n    if (!isConnected) {\n      toast.error('Système non connecté');\n      return;\n    }\n    setIsSending(true);\n    try {\n      await onSendMessage(newMessage.trim(), priority);\n      setNewMessage('');\n      toast.success('Message envoyé');\n    } catch (error) {\n      toast.error(`Erreur d'envoi: ${error.message}`);\n    } finally {\n      setIsSending(false);\n    }\n  };\n  const handleClear = async () => {\n    if (!window.confirm('Êtes-vous sûr de vouloir effacer tout l\\'historique ?')) {\n      return;\n    }\n    setIsClearing(true);\n    try {\n      const success = await onClearHistory();\n      if (success) {\n        toast.success('Historique effacé');\n      }\n    } catch (error) {\n      toast.error(`Erreur: ${error.message}`);\n    } finally {\n      setIsClearing(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n  const filteredMessages = messages.filter(msg => {\n    if (filter === 'all') return true;\n    if (filter === 'sent') return msg.direction === 'sent';\n    if (filter === 'received') return msg.direction === 'received';\n    return true;\n  });\n  const formatTimestamp = timestamp => {\n    return new Date(timestamp).toLocaleString('fr-FR', {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      day: '2-digit',\n      month: '2-digit'\n    });\n  };\n  const getPriorityColor = priority => {\n    switch (priority) {\n      case 'high':\n        return 'text-red-600 bg-red-50';\n      case 'low':\n        return 'text-gray-600 bg-gray-50';\n      default:\n        return 'text-blue-600 bg-blue-50';\n    }\n  };\n  const getPriorityIcon = priority => {\n    switch (priority) {\n      case 'high':\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this);\n      case 'low':\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M19 14l-7 7m0 0l-7-7m7 7V3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-4 h-4\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-b border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5 mr-2 text-purple-500\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), \"Messages\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full\",\n            children: filteredMessages.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: filter,\n            onChange: e => setFilter(e.target.value),\n            className: \"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"Tous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sent\",\n              children: \"Envoy\\xE9s\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"received\",\n              children: \"Re\\xE7us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClear,\n            disabled: isClearing || messages.length === 0,\n            className: \"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n            title: \"Effacer l'historique\",\n            children: isClearing ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4 h-4 border-2 border-gray-300 border-t-red-600 rounded-full animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 space-y-3 min-h-0\",\n      children: [filteredMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center h-full text-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"w-12 h-12 mb-4 text-gray-300\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          viewBox: \"0 0 24 24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-medium mb-2\",\n          children: \"Aucun message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-center\",\n          children: !isConnected ? 'Connectez le système pour commencer à échanger des messages' : 'Envoyez votre premier message chiffré'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this) : filteredMessages.map((message, index) => {\n        var _message$metadata;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex ${message.direction === 'sent' ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${message.direction === 'sent' ? 'bg-blue-600 text-white' : 'bg-gray-100 text-gray-900'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-xs font-medium ${message.direction === 'sent' ? 'text-blue-100' : 'text-gray-500'}`,\n                children: message.direction === 'sent' ? 'Envoyé' : 'Reçu'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), ((_message$metadata = message.metadata) === null || _message$metadata === void 0 ? void 0 : _message$metadata.priority) && message.metadata.priority !== 'normal' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center space-x-1 px-2 py-1 rounded-full text-xs ${message.direction === 'sent' ? 'bg-blue-500' : getPriorityColor(message.metadata.priority)}`,\n                children: [getPriorityIcon(message.metadata.priority), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"capitalize\",\n                  children: message.metadata.priority\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm whitespace-pre-wrap break-words\",\n              children: message.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-xs ${message.direction === 'sent' ? 'text-blue-100' : 'text-gray-400'}`,\n                children: formatTimestamp(message.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this), message.signal_info && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-xs ${message.direction === 'sent' ? 'text-blue-100' : 'text-gray-400'}`,\n                children: [\"RSSI: \", message.signal_info.rssi, \"dBm\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t border-gray-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700\",\n              children: \"Priorit\\xE9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: priority,\n              onChange: e => setPriority(e.target.value),\n              className: \"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n              disabled: isSending || !isConnected,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"low\",\n                children: \"Basse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"normal\",\n                children: \"Normale\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"high\",\n                children: \"Haute\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: textareaRef,\n            value: newMessage,\n            onChange: e => setNewMessage(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: isConnected ? \"Tapez votre message... (Entrée pour envoyer, Maj+Entrée pour nouvelle ligne)\" : \"Connectez le système pour envoyer des messages\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none min-h-[60px] max-h-32\",\n            disabled: isSending || !isConnected,\n            rows: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSend,\n          disabled: !newMessage.trim() || isSending || !isConnected,\n          className: `px-4 py-2 rounded-lg font-medium transition-colors min-w-[80px] ${newMessage.trim() && !isSending && isConnected ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n          children: isSending ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), !isConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4 mr-2\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), \"Connectez les modules LoRa et initialisez le chiffrement pour envoyer des messages.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_s(MessagePanel, \"Ux2EiJcVEVxrZjLMUTHtcMHf23w=\");\n_c = MessagePanel;\nexport default MessagePanel;\nvar _c;\n$RefreshReg$(_c, \"MessagePanel\");","map":{"version":3,"names":["React","useState","useRef","useEffect","toast","jsxDEV","_jsxDEV","MessagePanel","messages","isConnected","onSendMessage","onClearHistory","_s","newMessage","setNewMessage","priority","setPriority","isSending","setIsSending","isClearing","setIsClearing","filter","setFilter","messagesEndRef","textareaRef","_messagesEndRef$curre","current","scrollIntoView","behavior","style","height","scrollHeight","handleSend","trim","error","success","message","handleClear","window","confirm","handleKeyPress","e","key","shiftKey","preventDefault","filteredMessages","msg","direction","formatTimestamp","timestamp","Date","toLocaleString","hour","minute","second","day","month","getPriorityColor","getPriorityIcon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","length","value","onChange","target","onClick","disabled","title","map","index","_message$metadata","metadata","signal_info","rssi","ref","onKeyPress","placeholder","rows","_c","$RefreshReg$"],"sources":["/Users/dalm1/Downloads/lora-receiver/lora-secure-comm/frontend/src/components/MessagePanel.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport toast from 'react-hot-toast';\n\nconst MessagePanel = ({ messages, isConnected, onSendMessage, onClearHistory }) => {\n  const [newMessage, setNewMessage] = useState('');\n  const [priority, setPriority] = useState('normal');\n  const [isSending, setIsSending] = useState(false);\n  const [isClearing, setIsClearing] = useState(false);\n  const [filter, setFilter] = useState('all'); // all, sent, received\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Auto-scroll vers le bas quand de nouveaux messages arrivent\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  // Auto-resize du textarea\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [newMessage]);\n\n  const handleSend = async () => {\n    if (!newMessage.trim()) {\n      toast.error('Veuillez saisir un message');\n      return;\n    }\n\n    if (!isConnected) {\n      toast.error('Système non connecté');\n      return;\n    }\n\n    setIsSending(true);\n    try {\n      await onSendMessage(newMessage.trim(), priority);\n      setNewMessage('');\n      toast.success('Message envoyé');\n    } catch (error) {\n      toast.error(`Erreur d'envoi: ${error.message}`);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  const handleClear = async () => {\n    if (!window.confirm('Êtes-vous sûr de vouloir effacer tout l\\'historique ?')) {\n      return;\n    }\n\n    setIsClearing(true);\n    try {\n      const success = await onClearHistory();\n      if (success) {\n        toast.success('Historique effacé');\n      }\n    } catch (error) {\n      toast.error(`Erreur: ${error.message}`);\n    } finally {\n      setIsClearing(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  const filteredMessages = messages.filter(msg => {\n    if (filter === 'all') return true;\n    if (filter === 'sent') return msg.direction === 'sent';\n    if (filter === 'received') return msg.direction === 'received';\n    return true;\n  });\n\n  const formatTimestamp = (timestamp) => {\n    return new Date(timestamp).toLocaleString('fr-FR', {\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      day: '2-digit',\n      month: '2-digit'\n    });\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'high': return 'text-red-600 bg-red-50';\n      case 'low': return 'text-gray-600 bg-gray-50';\n      default: return 'text-blue-600 bg-blue-50';\n    }\n  };\n\n  const getPriorityIcon = (priority) => {\n    switch (priority) {\n      case 'high':\n        return (\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n          </svg>\n        );\n      case 'low':\n        return (\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 14l-7 7m0 0l-7-7m7 7V3\" />\n          </svg>\n        );\n      default:\n        return (\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        );\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col\">\n      {/* En-tête */}\n      <div className=\"p-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center\">\n            <svg className=\"w-5 h-5 mr-2 text-purple-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n            </svg>\n            Messages\n            <span className=\"ml-2 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full\">\n              {filteredMessages.length}\n            </span>\n          </h2>\n          \n          <div className=\"flex items-center space-x-2\">\n            {/* Filtre */}\n            <select\n              value={filter}\n              onChange={(e) => setFilter(e.target.value)}\n              className=\"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"all\">Tous</option>\n              <option value=\"sent\">Envoyés</option>\n              <option value=\"received\">Reçus</option>\n            </select>\n            \n            {/* Bouton d'effacement */}\n            <button\n              onClick={handleClear}\n              disabled={isClearing || messages.length === 0}\n              className=\"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              title=\"Effacer l'historique\"\n            >\n              {isClearing ? (\n                <div className=\"w-4 h-4 border-2 border-gray-300 border-t-red-600 rounded-full animate-spin\"></div>\n              ) : (\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Zone de messages */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-3 min-h-0\">\n        {filteredMessages.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\n            <svg className=\"w-12 h-12 mb-4 text-gray-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n            </svg>\n            <p className=\"text-lg font-medium mb-2\">Aucun message</p>\n            <p className=\"text-sm text-center\">\n              {!isConnected \n                ? 'Connectez le système pour commencer à échanger des messages'\n                : 'Envoyez votre premier message chiffré'\n              }\n            </p>\n          </div>\n        ) : (\n          filteredMessages.map((message, index) => (\n            <div\n              key={index}\n              className={`flex ${message.direction === 'sent' ? 'justify-end' : 'justify-start'}`}\n            >\n              <div className={`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${\n                message.direction === 'sent'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-gray-100 text-gray-900'\n              }`}>\n                <div className=\"flex items-center justify-between mb-1\">\n                  <span className={`text-xs font-medium ${\n                    message.direction === 'sent' ? 'text-blue-100' : 'text-gray-500'\n                  }`}>\n                    {message.direction === 'sent' ? 'Envoyé' : 'Reçu'}\n                  </span>\n                  \n                  {message.metadata?.priority && message.metadata.priority !== 'normal' && (\n                    <div className={`flex items-center space-x-1 px-2 py-1 rounded-full text-xs ${\n                      message.direction === 'sent' ? 'bg-blue-500' : getPriorityColor(message.metadata.priority)\n                    }`}>\n                      {getPriorityIcon(message.metadata.priority)}\n                      <span className=\"capitalize\">{message.metadata.priority}</span>\n                    </div>\n                  )}\n                </div>\n                \n                <p className=\"text-sm whitespace-pre-wrap break-words\">\n                  {message.message}\n                </p>\n                \n                <div className=\"flex items-center justify-between mt-2\">\n                  <span className={`text-xs ${\n                    message.direction === 'sent' ? 'text-blue-100' : 'text-gray-400'\n                  }`}>\n                    {formatTimestamp(message.timestamp)}\n                  </span>\n                  \n                  {message.signal_info && (\n                    <div className={`text-xs ${\n                      message.direction === 'sent' ? 'text-blue-100' : 'text-gray-400'\n                    }`}>\n                      RSSI: {message.signal_info.rssi}dBm\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Zone de saisie */}\n      <div className=\"p-4 border-t border-gray-200\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center space-x-2 mb-2\">\n              <label className=\"text-sm font-medium text-gray-700\">Priorité:</label>\n              <select\n                value={priority}\n                onChange={(e) => setPriority(e.target.value)}\n                className=\"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                disabled={isSending || !isConnected}\n              >\n                <option value=\"low\">Basse</option>\n                <option value=\"normal\">Normale</option>\n                <option value=\"high\">Haute</option>\n              </select>\n            </div>\n            \n            <textarea\n              ref={textareaRef}\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder={isConnected ? \"Tapez votre message... (Entrée pour envoyer, Maj+Entrée pour nouvelle ligne)\" : \"Connectez le système pour envoyer des messages\"}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none min-h-[60px] max-h-32\"\n              disabled={isSending || !isConnected}\n              rows={1}\n            />\n          </div>\n          \n          <button\n            onClick={handleSend}\n            disabled={!newMessage.trim() || isSending || !isConnected}\n            className={`px-4 py-2 rounded-lg font-medium transition-colors min-w-[80px] ${\n              newMessage.trim() && !isSending && isConnected\n                ? 'bg-blue-600 hover:bg-blue-700 text-white'\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n            }`}\n          >\n            {isSending ? (\n              <div className=\"flex items-center justify-center\">\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              </div>\n            ) : (\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n              </svg>\n            )}\n          </button>\n        </div>\n        \n        {!isConnected && (\n          <div className=\"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-sm text-yellow-800\">\n            <div className=\"flex items-center\">\n              <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n              </svg>\n              Connectez les modules LoRa et initialisez le chiffrement pour envoyer des messages.\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MessagePanel;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpC,MAAMC,YAAY,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,WAAW;EAAEC,aAAa;EAAEC;AAAe,CAAC,KAAK;EAAAC,EAAA;EACjF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,QAAQ,CAAC;EAClD,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACkB,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACoB,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EAC7C,MAAMsB,cAAc,GAAGrB,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMsB,WAAW,GAAGtB,MAAM,CAAC,IAAI,CAAC;;EAEhC;EACAC,SAAS,CAAC,MAAM;IAAA,IAAAsB,qBAAA;IACd,CAAAA,qBAAA,GAAAF,cAAc,CAACG,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC,EAAE,CAACpB,QAAQ,CAAC,CAAC;;EAEd;EACAL,SAAS,CAAC,MAAM;IACd,IAAIqB,WAAW,CAACE,OAAO,EAAE;MACvBF,WAAW,CAACE,OAAO,CAACG,KAAK,CAACC,MAAM,GAAG,MAAM;MACzCN,WAAW,CAACE,OAAO,CAACG,KAAK,CAACC,MAAM,GAAGN,WAAW,CAACE,OAAO,CAACK,YAAY,GAAG,IAAI;IAC5E;EACF,CAAC,EAAE,CAAClB,UAAU,CAAC,CAAC;EAEhB,MAAMmB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACnB,UAAU,CAACoB,IAAI,CAAC,CAAC,EAAE;MACtB7B,KAAK,CAAC8B,KAAK,CAAC,4BAA4B,CAAC;MACzC;IACF;IAEA,IAAI,CAACzB,WAAW,EAAE;MAChBL,KAAK,CAAC8B,KAAK,CAAC,sBAAsB,CAAC;MACnC;IACF;IAEAhB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMR,aAAa,CAACG,UAAU,CAACoB,IAAI,CAAC,CAAC,EAAElB,QAAQ,CAAC;MAChDD,aAAa,CAAC,EAAE,CAAC;MACjBV,KAAK,CAAC+B,OAAO,CAAC,gBAAgB,CAAC;IACjC,CAAC,CAAC,OAAOD,KAAK,EAAE;MACd9B,KAAK,CAAC8B,KAAK,CAAC,mBAAmBA,KAAK,CAACE,OAAO,EAAE,CAAC;IACjD,CAAC,SAAS;MACRlB,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAMmB,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI,CAACC,MAAM,CAACC,OAAO,CAAC,uDAAuD,CAAC,EAAE;MAC5E;IACF;IAEAnB,aAAa,CAAC,IAAI,CAAC;IACnB,IAAI;MACF,MAAMe,OAAO,GAAG,MAAMxB,cAAc,CAAC,CAAC;MACtC,IAAIwB,OAAO,EAAE;QACX/B,KAAK,CAAC+B,OAAO,CAAC,mBAAmB,CAAC;MACpC;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACd9B,KAAK,CAAC8B,KAAK,CAAC,WAAWA,KAAK,CAACE,OAAO,EAAE,CAAC;IACzC,CAAC,SAAS;MACRhB,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAMoB,cAAc,GAAIC,CAAC,IAAK;IAC5B,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,IAAI,CAACD,CAAC,CAACE,QAAQ,EAAE;MACpCF,CAAC,CAACG,cAAc,CAAC,CAAC;MAClBZ,UAAU,CAAC,CAAC;IACd;EACF,CAAC;EAED,MAAMa,gBAAgB,GAAGrC,QAAQ,CAACa,MAAM,CAACyB,GAAG,IAAI;IAC9C,IAAIzB,MAAM,KAAK,KAAK,EAAE,OAAO,IAAI;IACjC,IAAIA,MAAM,KAAK,MAAM,EAAE,OAAOyB,GAAG,CAACC,SAAS,KAAK,MAAM;IACtD,IAAI1B,MAAM,KAAK,UAAU,EAAE,OAAOyB,GAAG,CAACC,SAAS,KAAK,UAAU;IAC9D,OAAO,IAAI;EACb,CAAC,CAAC;EAEF,MAAMC,eAAe,GAAIC,SAAS,IAAK;IACrC,OAAO,IAAIC,IAAI,CAACD,SAAS,CAAC,CAACE,cAAc,CAAC,OAAO,EAAE;MACjDC,IAAI,EAAE,SAAS;MACfC,MAAM,EAAE,SAAS;MACjBC,MAAM,EAAE,SAAS;MACjBC,GAAG,EAAE,SAAS;MACdC,KAAK,EAAE;IACT,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,gBAAgB,GAAI1C,QAAQ,IAAK;IACrC,QAAQA,QAAQ;MACd,KAAK,MAAM;QAAE,OAAO,wBAAwB;MAC5C,KAAK,KAAK;QAAE,OAAO,0BAA0B;MAC7C;QAAS,OAAO,0BAA0B;IAC5C;EACF,CAAC;EAED,MAAM2C,eAAe,GAAI3C,QAAQ,IAAK;IACpC,QAAQA,QAAQ;MACd,KAAK,MAAM;QACT,oBACET,OAAA;UAAKqD,SAAS,EAAC,SAAS;UAACC,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAACC,OAAO,EAAC,WAAW;UAAAC,QAAA,eAC5EzD,OAAA;YAAM0D,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAA2I;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChN,CAAC;MAEV,KAAK,KAAK;QACR,oBACEjE,OAAA;UAAKqD,SAAS,EAAC,SAAS;UAACC,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAACC,OAAO,EAAC,WAAW;UAAAC,QAAA,eAC5EzD,OAAA;YAAM0D,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjG,CAAC;MAEV;QACE,oBACEjE,OAAA;UAAKqD,SAAS,EAAC,SAAS;UAACC,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAACC,OAAO,EAAC,WAAW;UAAAC,QAAA,eAC5EzD,OAAA;YAAM0D,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAAiE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtI,CAAC;IAEZ;EACF,CAAC;EAED,oBACEjE,OAAA;IAAKqD,SAAS,EAAC,2EAA2E;IAAAI,QAAA,gBAExFzD,OAAA;MAAKqD,SAAS,EAAC,8BAA8B;MAAAI,QAAA,eAC3CzD,OAAA;QAAKqD,SAAS,EAAC,wCAAwC;QAAAI,QAAA,gBACrDzD,OAAA;UAAIqD,SAAS,EAAC,uDAAuD;UAAAI,QAAA,gBACnEzD,OAAA;YAAKqD,SAAS,EAAC,8BAA8B;YAACC,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAC,QAAA,eACjGzD,OAAA;cAAM0D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAA+J;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpO,CAAC,YAEN,eAAAjE,OAAA;YAAMqD,SAAS,EAAC,+DAA+D;YAAAI,QAAA,EAC5ElB,gBAAgB,CAAC2B;UAAM;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAELjE,OAAA;UAAKqD,SAAS,EAAC,6BAA6B;UAAAI,QAAA,gBAE1CzD,OAAA;YACEmE,KAAK,EAAEpD,MAAO;YACdqD,QAAQ,EAAGjC,CAAC,IAAKnB,SAAS,CAACmB,CAAC,CAACkC,MAAM,CAACF,KAAK,CAAE;YAC3Cd,SAAS,EAAC,4GAA4G;YAAAI,QAAA,gBAEtHzD,OAAA;cAAQmE,KAAK,EAAC,KAAK;cAAAV,QAAA,EAAC;YAAI;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACjCjE,OAAA;cAAQmE,KAAK,EAAC,MAAM;cAAAV,QAAA,EAAC;YAAO;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACrCjE,OAAA;cAAQmE,KAAK,EAAC,UAAU;cAAAV,QAAA,EAAC;YAAK;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC,eAGTjE,OAAA;YACEsE,OAAO,EAAEvC,WAAY;YACrBwC,QAAQ,EAAE1D,UAAU,IAAIX,QAAQ,CAACgE,MAAM,KAAK,CAAE;YAC9Cb,SAAS,EAAC,mIAAmI;YAC7ImB,KAAK,EAAC,sBAAsB;YAAAf,QAAA,EAE3B5C,UAAU,gBACTb,OAAA;cAAKqD,SAAS,EAAC;YAA6E;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,gBAEnGjE,OAAA;cAAKqD,SAAS,EAAC,SAAS;cAACC,IAAI,EAAC,MAAM;cAACC,MAAM,EAAC,cAAc;cAACC,OAAO,EAAC,WAAW;cAAAC,QAAA,eAC5EzD,OAAA;gBAAM0D,aAAa,EAAC,OAAO;gBAACC,cAAc,EAAC,OAAO;gBAACC,WAAW,EAAE,CAAE;gBAACC,CAAC,EAAC;cAA8H;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnM;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjE,OAAA;MAAKqD,SAAS,EAAC,8CAA8C;MAAAI,QAAA,GAC1DlB,gBAAgB,CAAC2B,MAAM,KAAK,CAAC,gBAC5BlE,OAAA;QAAKqD,SAAS,EAAC,gEAAgE;QAAAI,QAAA,gBAC7EzD,OAAA;UAAKqD,SAAS,EAAC,8BAA8B;UAACC,IAAI,EAAC,MAAM;UAACC,MAAM,EAAC,cAAc;UAACC,OAAO,EAAC,WAAW;UAAAC,QAAA,eACjGzD,OAAA;YAAM0D,aAAa,EAAC,OAAO;YAACC,cAAc,EAAC,OAAO;YAACC,WAAW,EAAE,CAAE;YAACC,CAAC,EAAC;UAA+J;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpO,CAAC,eACNjE,OAAA;UAAGqD,SAAS,EAAC,0BAA0B;UAAAI,QAAA,EAAC;QAAa;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACzDjE,OAAA;UAAGqD,SAAS,EAAC,qBAAqB;UAAAI,QAAA,EAC/B,CAACtD,WAAW,GACT,6DAA6D,GAC7D;QAAuC;UAAA2D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAE1C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,GAEN1B,gBAAgB,CAACkC,GAAG,CAAC,CAAC3C,OAAO,EAAE4C,KAAK;QAAA,IAAAC,iBAAA;QAAA,oBAClC3E,OAAA;UAEEqD,SAAS,EAAE,QAAQvB,OAAO,CAACW,SAAS,KAAK,MAAM,GAAG,aAAa,GAAG,eAAe,EAAG;UAAAgB,QAAA,eAEpFzD,OAAA;YAAKqD,SAAS,EAAE,6CACdvB,OAAO,CAACW,SAAS,KAAK,MAAM,GACxB,wBAAwB,GACxB,2BAA2B,EAC9B;YAAAgB,QAAA,gBACDzD,OAAA;cAAKqD,SAAS,EAAC,wCAAwC;cAAAI,QAAA,gBACrDzD,OAAA;gBAAMqD,SAAS,EAAE,uBACfvB,OAAO,CAACW,SAAS,KAAK,MAAM,GAAG,eAAe,GAAG,eAAe,EAC/D;gBAAAgB,QAAA,EACA3B,OAAO,CAACW,SAAS,KAAK,MAAM,GAAG,QAAQ,GAAG;cAAM;gBAAAqB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7C,CAAC,EAEN,EAAAU,iBAAA,GAAA7C,OAAO,CAAC8C,QAAQ,cAAAD,iBAAA,uBAAhBA,iBAAA,CAAkBlE,QAAQ,KAAIqB,OAAO,CAAC8C,QAAQ,CAACnE,QAAQ,KAAK,QAAQ,iBACnET,OAAA;gBAAKqD,SAAS,EAAE,8DACdvB,OAAO,CAACW,SAAS,KAAK,MAAM,GAAG,aAAa,GAAGU,gBAAgB,CAACrB,OAAO,CAAC8C,QAAQ,CAACnE,QAAQ,CAAC,EACzF;gBAAAgD,QAAA,GACAL,eAAe,CAACtB,OAAO,CAAC8C,QAAQ,CAACnE,QAAQ,CAAC,eAC3CT,OAAA;kBAAMqD,SAAS,EAAC,YAAY;kBAAAI,QAAA,EAAE3B,OAAO,CAAC8C,QAAQ,CAACnE;gBAAQ;kBAAAqD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAENjE,OAAA;cAAGqD,SAAS,EAAC,yCAAyC;cAAAI,QAAA,EACnD3B,OAAO,CAACA;YAAO;cAAAgC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACf,CAAC,eAEJjE,OAAA;cAAKqD,SAAS,EAAC,wCAAwC;cAAAI,QAAA,gBACrDzD,OAAA;gBAAMqD,SAAS,EAAE,WACfvB,OAAO,CAACW,SAAS,KAAK,MAAM,GAAG,eAAe,GAAG,eAAe,EAC/D;gBAAAgB,QAAA,EACAf,eAAe,CAACZ,OAAO,CAACa,SAAS;cAAC;gBAAAmB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC/B,CAAC,EAENnC,OAAO,CAAC+C,WAAW,iBAClB7E,OAAA;gBAAKqD,SAAS,EAAE,WACdvB,OAAO,CAACW,SAAS,KAAK,MAAM,GAAG,eAAe,GAAG,eAAe,EAC/D;gBAAAgB,QAAA,GAAC,QACI,EAAC3B,OAAO,CAAC+C,WAAW,CAACC,IAAI,EAAC,KAClC;cAAA;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC,GA5CDS,KAAK;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA6CP,CAAC;MAAA,CACP,CACF,eACDjE,OAAA;QAAK+E,GAAG,EAAE9D;MAAe;QAAA6C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAGNjE,OAAA;MAAKqD,SAAS,EAAC,8BAA8B;MAAAI,QAAA,gBAC3CzD,OAAA;QAAKqD,SAAS,EAAC,6BAA6B;QAAAI,QAAA,gBAC1CzD,OAAA;UAAKqD,SAAS,EAAC,QAAQ;UAAAI,QAAA,gBACrBzD,OAAA;YAAKqD,SAAS,EAAC,kCAAkC;YAAAI,QAAA,gBAC/CzD,OAAA;cAAOqD,SAAS,EAAC,mCAAmC;cAAAI,QAAA,EAAC;YAAS;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtEjE,OAAA;cACEmE,KAAK,EAAE1D,QAAS;cAChB2D,QAAQ,EAAGjC,CAAC,IAAKzB,WAAW,CAACyB,CAAC,CAACkC,MAAM,CAACF,KAAK,CAAE;cAC7Cd,SAAS,EAAC,4GAA4G;cACtHkB,QAAQ,EAAE5D,SAAS,IAAI,CAACR,WAAY;cAAAsD,QAAA,gBAEpCzD,OAAA;gBAAQmE,KAAK,EAAC,KAAK;gBAAAV,QAAA,EAAC;cAAK;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAClCjE,OAAA;gBAAQmE,KAAK,EAAC,QAAQ;gBAAAV,QAAA,EAAC;cAAO;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACvCjE,OAAA;gBAAQmE,KAAK,EAAC,MAAM;gBAAAV,QAAA,EAAC;cAAK;gBAAAK,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENjE,OAAA;YACE+E,GAAG,EAAE7D,WAAY;YACjBiD,KAAK,EAAE5D,UAAW;YAClB6D,QAAQ,EAAGjC,CAAC,IAAK3B,aAAa,CAAC2B,CAAC,CAACkC,MAAM,CAACF,KAAK,CAAE;YAC/Ca,UAAU,EAAE9C,cAAe;YAC3B+C,WAAW,EAAE9E,WAAW,GAAG,8EAA8E,GAAG,gDAAiD;YAC7JkD,SAAS,EAAC,gJAAgJ;YAC1JkB,QAAQ,EAAE5D,SAAS,IAAI,CAACR,WAAY;YACpC+E,IAAI,EAAE;UAAE;YAAApB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAENjE,OAAA;UACEsE,OAAO,EAAE5C,UAAW;UACpB6C,QAAQ,EAAE,CAAChE,UAAU,CAACoB,IAAI,CAAC,CAAC,IAAIhB,SAAS,IAAI,CAACR,WAAY;UAC1DkD,SAAS,EAAE,mEACT9C,UAAU,CAACoB,IAAI,CAAC,CAAC,IAAI,CAAChB,SAAS,IAAIR,WAAW,GAC1C,0CAA0C,GAC1C,8CAA8C,EACjD;UAAAsD,QAAA,EAEF9C,SAAS,gBACRX,OAAA;YAAKqD,SAAS,EAAC,kCAAkC;YAAAI,QAAA,eAC/CzD,OAAA;cAAKqD,SAAS,EAAC;YAA8E;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjG,CAAC,gBAENjE,OAAA;YAAKqD,SAAS,EAAC,SAAS;YAACC,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAC,QAAA,eAC5EzD,OAAA;cAAM0D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAAkC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvG;QACN;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,EAEL,CAAC9D,WAAW,iBACXH,OAAA;QAAKqD,SAAS,EAAC,gFAAgF;QAAAI,QAAA,eAC7FzD,OAAA;UAAKqD,SAAS,EAAC,mBAAmB;UAAAI,QAAA,gBAChCzD,OAAA;YAAKqD,SAAS,EAAC,cAAc;YAACC,IAAI,EAAC,MAAM;YAACC,MAAM,EAAC,cAAc;YAACC,OAAO,EAAC,WAAW;YAAAC,QAAA,eACjFzD,OAAA;cAAM0D,aAAa,EAAC,OAAO;cAACC,cAAc,EAAC,OAAO;cAACC,WAAW,EAAE,CAAE;cAACC,CAAC,EAAC;YAA2I;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChN,CAAC,uFAER;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC3D,EAAA,CAzSIL,YAAY;AAAAkF,EAAA,GAAZlF,YAAY;AA2SlB,eAAeA,YAAY;AAAC,IAAAkF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}